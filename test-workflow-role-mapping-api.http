### Test Workflow Role Mapping APIs

### 1. Get all department role users
GET {{baseUrl}}/api/WorkflowRoleMapping/department-role-users
Authorization: Bearer {{token}}
Content-Type: application/json

### 2. Get department role users by department ID
GET {{baseUrl}}/api/WorkflowRoleMapping/department-role-users/1
Authorization: Bearer {{token}}
Content-Type: application/json

### 3. Update department role users (single department, multiple roles with users)
PUT {{baseUrl}}/api/WorkflowRoleMapping/department-role-users
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "department_id": 1,
  "assignments": [
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440000",
      "role_id": 1,
      "isprimary": true
    },
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440001",
      "role_id": 1,
      "isprimary": false
    },
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440002",
      "role_id": 2,
      "isprimary": true
    },
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440003",
      "role_id": 3,
      "isprimary": true
    }
  ]
}

### 4. Test validation - Multiple primary users for same role (should fail)
PUT {{baseUrl}}/api/WorkflowRoleMapping/department-role-users
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "department_id": 1,
  "assignments": [
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440000",
      "role_id": 1,
      "isprimary": true
    },
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440001",
      "role_id": 1,
      "isprimary": true
    }
  ]
}

### Variables (update these with your actual values)
@baseUrl = https://localhost:7001
@token = your_jwt_token_here
